{"ast":null,"code":"import _regeneratorRuntime from \"/Users/apple/Study/Vue/VueProject/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/apple/Study/Vue/VueProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n// import pdf from 'vue-pdf';\n\nimport * as pdfjsLib from 'pdfjs-dist/build/pdf';\nimport 'pdfjs-dist/web/pdf_viewer.css';\nexport default {\n  // components: {\n  //   pdf\n  // },\n  data: function data() {\n    return {\n      isHidden: false,\n      arr: [1, 32, 45, 6, 3, 12, 29],\n      pdfUrl: \"https://testcbb.lczq.com/static/agreement/admin/20230322/9b3f470a-b106-4c64-bc5e-f08f538fb71b.PDF\",\n      pages: [],\n      scale: 1\n    };\n  },\n  mounted: function mounted() {\n    this.loadPdf(this.pdfUrl);\n  },\n  methods: {\n    toggleVisibility: function toggleVisibility() {\n      this.isHidden = !this.isHidden;\n    },\n    handleChangeArr: function handleChangeArr(type) {\n      var _this = this;\n      if (type === 1) {\n        this.arr.push(99);\n        console.log(this.arr);\n        setTimeout(function () {\n          _this.arr[0] = Math.round(Math.random() * 100);\n          console.log(_this.arr);\n          _this.$forceUpdate();\n        }, 3000);\n      } else if (type === 2) {\n        this.arr.reverse();\n      } else if (type === 3) {\n        // PDF 文件的 URL\n        // 在新窗口中打开 PDF 文件\n        window.open(this.pdfUrl, '_blank');\n      }\n    },\n    loadPdf: function loadPdf(url) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var loadingTask;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              loadingTask = pdfjsLib.getDocument(url);\n              _context.next = 4;\n              return loadingTask.promise;\n            case 4:\n              _this2.pdfDoc = _context.sent;\n              _this2.pages = Array.from({\n                length: _this2.pdfDoc.numPages\n              }, function (_, i) {\n                return i + 1;\n              });\n\n              // 渲染每一页\n              _this2.pages.forEach(function (pageNum) {\n                _this2.renderPage(pageNum);\n              });\n              _context.next = 12;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('加载 PDF 失败:', _context.t0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 9]]);\n      }))();\n    },\n    renderPage: function renderPage(pageNum) {\n      var _this3 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var page, canvas, ctx, viewport, renderContext;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this3.pdfDoc.getPage(pageNum);\n            case 2:\n              page = _context2.sent;\n              canvas = document.getElementById(\"pdf-canvas-\".concat(pageNum));\n              ctx = canvas.getContext('2d');\n              viewport = page.getViewport({\n                scale: _this3.scale\n              });\n              canvas.height = viewport.height;\n              canvas.width = viewport.width;\n              renderContext = {\n                canvasContext: ctx,\n                viewport: viewport\n              };\n              _context2.next = 11;\n              return page.render(renderContext).promise;\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["pdfjsLib","data","isHidden","arr","pdfUrl","pages","scale","mounted","loadPdf","methods","toggleVisibility","handleChangeArr","type","_this","push","console","log","setTimeout","Math","round","random","$forceUpdate","reverse","window","open","url","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","loadingTask","wrap","_callee$","_context","prev","next","getDocument","promise","pdfDoc","sent","Array","from","length","numPages","_","i","forEach","pageNum","renderPage","t0","error","stop","_this3","_callee2","page","canvas","ctx","viewport","renderContext","_callee2$","_context2","getPage","document","getElementById","concat","getContext","getViewport","height","width","canvasContext","render"],"sources":["src/views/testPage/Test_4.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- <button @click=\"toggleVisibility\">切换可见性</button> -->\n    <!-- 这个 div 不会在页面上显示 -->\n    <!-- <div style=\"display: none;\">这是一个隐藏的元素</div> -->\n    <!-- 也可以使用绑定的方式 -->\n    <!-- <div :style=\"{ display: 'block' }\">根据条件显示或隐藏</div> -->\n    <!-- \n    <div :style=\"{ display: isHidden ? 'none' : 'block', backgroundColor: 'lightblue' }\">\n      美国总统特朗普在当地时间2月26日的内阁会议上证实乌克兰总统泽连斯基将于本周五访美，并签署有关乌克兰稀土矿产及其他事项的协议。不过特朗普强调，美国不会向乌克兰提供太多安全保障。但乌克兰方面认为，这份协议是向美国争取安全保障的核心所在。泽连斯基2月26日当天在基辅对媒体表示，这份协议是大获成功还是悄然消失，全都取决于与特朗普的对话。他将在周五访美时直接向特朗普提三个问题：美国是否还支持乌克兰？乌克兰能否从美国购买武器？乌克兰能否用被冻结的俄罗斯资产买武器？美国总统特朗普在当地时间2月26日的内阁会议上证实乌克兰总统泽连斯基将于本周五访美，并签署有关乌克兰稀土矿产及其他事项的协议。不过特朗普强调，美国不会向乌克兰提供太多安全保障。但乌克兰方面认为，这份协议是向美国争取安全保障的核心所在。泽连斯基2月26日当天在基辅对媒体表示，这份协议是大获成功还是悄然消失，全都取决于与特朗普的对话。他将在周五访美时直接向特朗普提三个问题：美国是否还支持乌克兰？乌克兰能否从美国购买武器？乌克兰能否用被冻结的俄罗斯资产买武器？\n    </div> -->\n\n    <!-- <div style=\"display: inline; background-color: lightgreen;\">\n      这个 div 现在是行内元素\n    </div>\n    <br />\n    <div style=\"display: inline; background-color: lightyellow;\">\n      另一个行内元素\n    </div> -->\n\n    <!-- <div>{{ arr }}</div>\n    <div class=\"button-group\">\n      <button class=\"button-style\" @click=\"handleChangeArr(1)\">数组(增操作)</button>\n      <button class=\"button-style\" @click=\"handleChangeArr(2)\">数组(倒序)</button>\n      <button class=\"button-style\" @click=\"handleChangeArr(3)\">测试一下</button>\n    </div> -->\n\n    <!-- 使用 vue-pdf 组件显示 PDF -->\n    <!-- <pdf :src=\"pdfUrl\" /> -->\n    <!-- <iframe :src=\"pdfUrl\" width=\"100%\" height=\"600px\" frameborder=\"0\"></iframe> -->\n    <!-- <embed :src=\"pdfUrl\" type=\"application/pdf\" width=\"100%\" height=\"600px\" /> -->\n\n    <canvas v-for=\"page in pages\" :key=\"page\" :id=\"'pdf-canvas-' + page\"></canvas>\n  </div>\n</template>\n\n<script>\n// import pdf from 'vue-pdf';\n\nimport * as pdfjsLib from 'pdfjs-dist/build/pdf'\nimport 'pdfjs-dist/web/pdf_viewer.css'\n\nexport default {\n  // components: {\n  //   pdf\n  // },\n  data() {\n    return {\n      isHidden: false,\n      arr: [1, 32, 45, 6, 3, 12, 29],\n      pdfUrl: \"https://testcbb.lczq.com/static/agreement/admin/20230322/9b3f470a-b106-4c64-bc5e-f08f538fb71b.PDF\",\n      pages: [],\n      scale: 1,\n    };\n  },\n  mounted() {\n    this.loadPdf(this.pdfUrl);\n  },\n  methods: {\n    toggleVisibility() {\n      this.isHidden = !this.isHidden;\n    },\n    handleChangeArr(type) {\n      if (type === 1) {\n        this.arr.push(99);\n        console.log(this.arr);\n\n        setTimeout(() => {\n          this.arr[0] = Math.round(Math.random() * 100);\n          console.log(this.arr);\n          this.$forceUpdate()\n        }, 3000);\n      } else if (type === 2) {\n        this.arr.reverse();\n      } else if (type === 3) {\n        // PDF 文件的 URL\n        // 在新窗口中打开 PDF 文件\n        window.open(this.pdfUrl, '_blank');\n      }\n    },\n    async loadPdf(url) {\n      try {\n        const loadingTask = pdfjsLib.getDocument(url);\n        this.pdfDoc = await loadingTask.promise;\n        this.pages = Array.from({ length: this.pdfDoc.numPages }, (_, i) => i + 1);\n\n        // 渲染每一页\n        this.pages.forEach(pageNum => {\n          this.renderPage(pageNum);\n        });\n      } catch (err) {\n        console.error('加载 PDF 失败:', err);\n      }\n    },\n    async renderPage(pageNum) {\n      const page = await this.pdfDoc.getPage(pageNum);\n      const canvas = document.getElementById(`pdf-canvas-${pageNum}`);\n      const ctx = canvas.getContext('2d');\n      const viewport = page.getViewport({ scale: this.scale });\n\n      canvas.height = viewport.height;\n      canvas.width = viewport.width;\n\n      const renderContext = {\n        canvasContext: ctx,\n        viewport: viewport\n      };\n      await page.render(renderContext).promise;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  padding: 20px;\n}\n\n.button-group {\n  display: flex;\n  flex-direction: column;\n\n  .button-style {\n    margin-top: 10px;\n    width: 120px;\n    height: 30px;\n    min-height: 30px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}